<?xml version="1.0" encoding="UTF-8" ?>
<eks-source xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../schema.xsd">
    <metadata>
        <name>Light Novel World</name>
        <base-url>https://www.lightnovelworld.co</base-url>
        <version>1.0.4</version>
        <language>en</language>
        <novel-status-map>
            <ongoing>onGoing</ongoing>
            <completed>Completed</completed>
        </novel-status-map>
    </metadata>

    <discover>
        <novel-list id="trending" url="/home">
            Array.from(document.querySelectorAll('#index > section:nth-child(4) > div.section-body > ul > li'), item =>
            {
            return {
            title: item.querySelector('.novel-title').innerText,
            cover: item.querySelector('a img').getAttribute('data-src'),
            link: item.querySelector('a').href
            };
            });
        </novel-list>
        <novel-list id="most-popular" url="/ranking-04061612">
            Array.from(document.querySelectorAll('#ranking > div.container > div > ul > li'), item =>
            {
            return {
            title: item.querySelector('.title').innerText,
            cover: item.querySelector('img').getAttribute('data-src'),
            link: item.querySelector('a').href
            };
            });
        </novel-list>
        <novel-list id="recently-updated" url="/latest-updates-04061612">
            Array.from(document.querySelectorAll('#latest-updates > div > ul > .novel-item'), item =>
            {
            return {
            title: item.querySelector('.novel-title').innerText,
            cover: item.querySelector('img').getAttribute('data-src'),
            link: item.querySelector('a').href
            };
            });
        </novel-list>
    </discover>
    <novel>
        function getDetails() {
        const novelHeader = document.querySelector('#novel .header-body');

        return {
        title: novelHeader.querySelector('.novel-info > div.main-head > h1').innerText,
        cover: novelHeader.querySelector('figure > img').getAttribute('data-src'),
        author: novelHeader.querySelector('.novel-info .author > a > span').innerText,
        chapters: novelHeader.querySelector('.novel-info div.header-stats > span:nth-child(1) strong').innerText,
        views: novelHeader.querySelector('.novel-info div.header-stats > span:nth-child(2) strong').innerText,
        status: novelHeader.querySelector('.novel-info div.header-stats > span:nth-child(4) strong').innerText,
        genres: Array.from(document.querySelectorAll('.novel-info > div.categories > ul > li')).map(genre =>
        genre.innerText),
        description: document.querySelector('#info > div.summary > div p').innerText,
        };
        }

        getDetails();
    </novel>
    <novel-chapters-list url="/chapters" next-button="#chpagedlist > div > div > div > ul > li.PagedList-skipToNext a">
        Array.from(document.querySelectorAll('#chpagedlist > ul > li'), chapter => {
        return {
        number: chapter.querySelector('.chapter-no').innerText,
        title: chapter.querySelector('.chapter-title').innerText,
        link: chapter.querySelector('a').href,
        date: chapter.querySelector('.chapter-update').getAttribute('datetime').split(' ')[0]
        };
        });
    </novel-chapters-list>
</eks-source>